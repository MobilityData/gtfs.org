---
draft: false
pin: false
date:
  created: 2024-06-01
title: GTFS Digest - May 2024
description: Read this month's digest and stay up to date on GTFS development.
authors: 
  - mobilitydata
categories:
  - GTFS Digest
---
# [GTFS Digest] 2024年5月 - 議論盛りだくさん {: #gtfs-digest-may-2024-discussions-galore}

便の更新(trip updates)における不整合、新しいフィールドである cars_allowed や trip_global_id、bikes_allowed や shapes.txt に関する推奨事項、vehicles.txt の追加、StopTimeEvent.uncertainty の利用、GTFS-Flex の変更、そして GTFS 用語の更新について、コミュニティと一緒に探ってみましょう。


<!-- more -->

GTFS Digest は、[MobilityData](https://mobilitydata.org/) によって毎月作成されるリソースで、GTFS に関する最新の動向を概観するものです。  

私たちは皆さまからのフィードバックを大切にしており、今回の内容についてのご意見を伺いたいと考えています。ぜひ [このフォーム](https://forms.gle/GGefktvemnJD5Q9g8) にご記入いただき、このツールの可能性を最大限に引き出すためにご協力ください。

## 🏅 コントリビューターへの感謝 {: #contributor-shoutouts}


**Weston Shippy**

[最初のPR](https://github.com/google/transit/pull/432) が仕様に採用されたこと、おめでとうございます！ 

**David Rudi、Niels Penneman、Ville Pihlava**

コミュニティに対して初めての issue（[#462](https://github.com/google/transit/issues/462)、[#466](https://github.com/google/transit/issues/466)、[#468](https://github.com/google/transit/issues/468)）を投稿していただきありがとうございます。皆さんの貢献は、素晴らしい議論や将来的な変更の基盤となります。 

**Michael Paine**

[新しい issue](https://github.com/google/transit/issues/454) を通じて仕様に戻り、興味深いやり取りを引き起こしてくれました。ありがとうございます！ 

**James Bunch、Josh Drucker**

Slack 上で最も活発なコントリビューターの一部です。皆さんのスレッドは多くの議論を生み出し、コミュニティ全体に大きな価値をもたらしています。ありがとうございます！

## 🚀 最近採択された提案 {: #recently-adopted}


**[fare_leg_rules.txt に rule_priority を追加 #418](https://github.com/google/transit/pull/418)**

rule_priority フィールドは、いくつかの運賃区間のマッチングルールが他のマッチングルールより優先される必要がある場合を表現するために使用されます。さらに、rule_priority フィールドの存在は、fare_leg_rules.txt 内の他のフィールドにおける空の意味を変更するトリガーとして機能します。

**[route ベースの fare_rules における stops.zone_id の条件付き要件を明確化 #432](https://github.com/google/transit/pull/432)** \
この提案は、stops.zone_id の条件付き要件を修正し、停留所(stop)が trip_ids にのみ割り当てられており、その route_id が fare_id と route_id のみが定義された fare_rules.txt のレコードに存在する場合（route ベースの運賃）のシナリオを許容するようにします。

## 📂 アクティブな提案 {: #active-proposals}


**[feed_info.txt の要件更新 #460](https://github.com/google/transit/pull/460)**

このPRは、feed_info.txt の存在に関する説明を更新し、仕様の書式により適合させるとともに、このファイルの要件についての明確さを高め、条件付き必須(Conditionally Required)とするものです。

**[transfers.txt における from/to_stop_id の存在と説明の明確化 #455](https://github.com/google/transit/pull/455)**

このPRは、transfers.from/to_stop_id の存在を条件付き必須から必須に変更し、説明文から「forbidden」という語を削除して、潜在的な混乱を避けるものです。

### その他のオープン提案: {: #other-open-proposals}




* [[GTFS-Fares v2] fare_leg_join_rules.txt の追加（初回イテレーション） #439](https://github.com/google/transit/pull/439)
* [Feed Version と GTFS URL を GTFS Realtime の FeedHeader に追加 #434](https://github.com/google/transit/pull/434)
* [[GTFS-Fares v2] チケット商品/チケットメディアの乗り継ぎ挙動 #423](https://github.com/google/transit/pull/423)<span style="text-decoration:underline;"> </span>

## 🔥 最も活発な議論 {: #most-active-conversations}


**[便の更新(trip update)の例とリファレンスドキュメントの不整合？ #468](https://github.com/google/transit/issues/468)**

Niels Penneman が、便の更新(trip update)の例とリファレンスドキュメントの間にある不整合を解決するために助けを求めています。 

**[trips.txt に cars_allowed フィールドを追加する提案 #466](https://github.com/google/transit/issues/466)**

Ville Pihlava が、フェリーや自動車列車のユースケースをカバーするために、trips.txt に car_allowed フィールドを追加することを提案しています。 

**[推奨ベストプラクティス: SCHEDULED 便(trip)において TripDescriptor に常に trip_id を含める #465](https://github.com/google/transit/issues/465)**

この提案は、GTFS Realtime において SCHEDULED 便(trip)の TripDescriptor に `trip_id` を必須とすることを提案しています。これは、複数の識別子を用いる代替手法がしばしば問題を引き起こすため、データ統合を簡素化することを目的としています。 

**[グローバル trip id #462](https://github.com/google/transit/issues/462)**

SKI+ の David が、NeTEx や HRDF などの他の標準との統合を改善するために、GTFS Schedule および Realtime に新しいフィールド "trip_global_id" を提案しています。これは 1 日有効な便(trip)識別子の必要性に対応するものです。このグローバル ID により、異なるデータ形式間での旅行情報のマッピングが容易になります。 

**[bikes_allowed を GTFS において推奨フィールドにする #461](https://github.com/google/transit/issues/461)**

GTFS Schedule において `bikes_allowed` フィールドを推奨とすることで、自転車対応に関するデータ精度を向上させることを目的としています。この変更により、このフィールドが欠落しているデータセットに対してバリデーション通知が発行され、より広範な採用が促されます。 

**[Shapes を GTFS において推奨ファイルにする #459](https://github.com/google/transit/issues/459)**

GTFS Schedule において `shapes.txt` ファイルを推奨とすることで、地図ベースの表示やデータ品質の検証を改善することを目的としています。これは 85% の採用率を反映したものです。この変更により、ユーザー体験が向上し、リアルタイムの車両追跡も支援されます。 

**[GTFS static に vehicles.txt を追加する #458](https://github.com/google/transit/issues/458)**

TransSee の Darwin が、GTFS に `vehicles.txt` ファイルを追加することを提案しています。これにより、車両の収容力、アクセシビリティ、機能に関する詳細情報を提供でき、リアルタイム予測ツールを強化し、車両データ報告の標準化を進めることができます。このファイルには、車両タイプ、収容力、製造元、アクセシビリティ機能などの詳細を含めることができます。 

**[非タイムポイントにおける StopTimeEvent.uncertainty の利用 #454](https://github.com/google/transit/issues/454)**

AC Transit の Michael Paine が、非タイムポイント停留所等(stop)において `StopTimeEvent.uncertainty` フィールドを使用し、時刻表の近似を示すことを検討しています。これにより、バスが早着または遅延した際に乗客が混乱するのを防ぐことができます。この方法は遅延値を変更せずに時間のばらつきを伝えることができ、乗客にバスの運行時刻をより正確に伝えることができます。 

**[[DRT] GTFS-Flex の採用後、stops.txt は必須ファイルではなくなるべき #452](https://github.com/google/transit/issues/452)**

GTFS-Flex の導入により、GTFS において地理的な位置を定義するために stops.txt が必須ではなくなる可能性があります。事業者は、ゾーンベースのデマンド型サービスにおいて locations.geojson のみを使用できるようになり、stops.txt は条件付き必須（locations.geojson が存在しない場合のみ必須）となります。この変更に対応するため、GTFS バリデータの調整が必要となります。 

**[GTFS 用語の精緻化: "Schedule" から "Static" への移行 #442](https://github.com/google/transit/issues/442)**

この課題は、GTFS ドキュメントにおいて "Schedule" から "Static" への用語変更を提案しています。これはデータセットをより適切に表現するためのものです。明確化に対してはコミュニティから大きな支持があります。この提案はドキュメントの更新を含んでおり、Pull Request 段階に進む前に次のステップに関するフィードバックが求められています。

### **#gtfs に関する Slack 上での会話** {: #slack-conversations-on-gtfs}


James Bunch が質問しました: [任意の shapes.txt ファイルに新しいフィールドを追加して、特定の停留所等(stop)に関連付けるべきポイントの stop# を一覧化するのは、どの程度難しいでしょうか？](https://mobilitydata-io.slack.com/archives/C3FFFKX9C/p1714674761313129)

Josh Drucker が質問しました: [Fares V2 を機能させるには、フィード内でネットワークまたはエリアのいずれかを定義する必要がある、というのが現時点での私の理解です（両方を定義しても動作するはずです）。これは正しいでしょうか？](https://mobilitydata-io.slack.com/archives/C3FFFKX9C/p1715291797898919)

Cristen Jones が質問しました: [GTFS の歴史に詳しい人が必要です… trip_headsigns.txt は存在したことがあるのでしょうか？ 現在の仕様には存在しないように見えます。](https://mobilitydata-io.slack.com/archives/C3FFFKX9C/p1716484671255129)

### #gtfs-realtime に関する Slack 上での会話 {: #slack-conversations-on-gtfs-realtime}


Will Anderson が質問しました: [SCHEDULE_RELATIONSHIP: ADDED を使用するべきですか？](https://mobilitydata-io.slack.com/archives/C3D321CKB/p1715957220876199)

### #gtfs-flex に関する Slack 上での会話 {: #slack-conversations-on-gtfs-flex}


Daniel Michalov が質問します:** **[GTFS.org 上の GTFS-Flex フィードの例は正確ですか？](https://mobilitydata-io.slack.com/archives/CSP7HDF37/p1715186673192179)

Conner Riley が [OTP のバージョン管理と GTFS-Flex について質問します。](https://mobilitydata-io.slack.com/archives/CSP7HDF37/p1716483257572099) 

Suresh K Devalapalli が [最大の GTFS-Flex フィードを探すための助けを求めています。](https://mobilitydata-io.slack.com/archives/CSP7HDF37/p1716560738764069) 

Leo Frachet が [Validator に「GTFS-Flex はまだサポートされていない」という警告を含めるよう依頼しています。](https://mobilitydata-io.slack.com/archives/CSP7HDF37/p1716820236146889)

## 📅 今後のイベント {: #upcoming-events}


**[GTFS-Flex: 採用されたので、次は実装しましょう！](https://www.eventbrite.ca/e/gtfs-flex-its-adopted-now-lets-implement-it-tickets-903117206877)** | 2024年6月4日 午前11時（EDT）

トピック : Flex のモデリング、現在の実装、カバーされるユースケース、Flex の機能、そして MobilityData の無料リソース。 

**[GTFS-Fares v2 – 月例ミーティング](https://www.eventbrite.ca/e/specifications-discussions-gtfs-fares-v2-monthly-meetings-tickets-769939799667)** | 2024年6月25日 午前11時（EDT）

トピック : GTFS-Fares v2 拡張ワーキンググループミーティング

**[ガバナンスワーキンググループミーティング](https://www.eventbrite.ca/e/gtfs-governance-working-group-meeting-may-2nd-11-am-edt-tickets-890410801677)** | 日程未定 

トピック : GTFS ガバナンス刷新における次のステップ

## 🛠️ ツールの更新 {: #tools-update}


**[Canonical GTFS Schedule Validator 向けの Flex ルール提案](https://github.com/MobilityData/gtfs-validator/issues/1721)**

GTFS-Flex が仕様に採用された今 (🎊)、MobilityData は Canonical Validator に追加される Flex 検証ルールの要件リストを作成しました。ぜひこの提案に対するフィードバックを共有いただき、ルールをバリデータに貢献することでこの作業を加速させたい場合はお知らせください！

## 💬 GTFS コミュニティに参加する {: #join-the-gtfs-community}


**[GitHub: google/transit](https://github.com/google/transit)**: アイデアをコミュニティと共有しましょう！公式の GTFS GitHub リポジトリに参加してください。

**[GTFS-changes](https://groups.google.com/g/gtfs-changes)**: 最新情報をすぐに入手できます。GTFS-changes Google グループに参加して、新しいプルリクエストや投票に関する情報を受け取りましょう。 

**[GTFS-realtime](https://groups.google.com/g/gtfs-realtime)**: Realtime に関するすべてを話し合い、最新情報を入手しましょう。このグループでは GTFS Realtime について議論し、質問をしたり、変更を提案したりしています。

**[GTFS.org](https://gtfs.org/)**: 公式の GTFS ドキュメントサイトです。ここでは GTFS に関する最新のリソースを頻繁に更新しています。 

**[MobilityData Slack](https://share.mobilitydata.org/slack)**: GTFS について質問がありますか？それともコミュニティとつながりたいですか？GTFS Slack の会話に参加しましょう。1,300人以上のモビリティ愛好者がチャンネルで活動しており、質問に素早く答えてもらえる素晴らしい場所です。 

**GTFS Digest 第6号をお読みいただきありがとうございます！2024年以降も最新の GTFS 情報をお届けできることを楽しみにしています。**
