# 車両の位置

車両の位置は、車載 GPS デバイスなどから、車両の位置に関する自動生成された情報を提供するために使用されます。 提供可能なすべての車両に対して、1 つの車両の位置を提供する必要があります。

車両が現在提供している旅行は、[TripDescriptor](../../reference/#message-tripdescriptor) を通じて提供する必要があります。 また、[VehicleDescriptor](../../reference/#message-vehicledescriptor) を提供することもできます。これは、更新情報を提供する正確な物理的な車両を指定します。 ドキュメントは以下にあります。

位置の読み取りが行われた時間を示す **timestamp** を提供できます。 これは、サーバーによってこのメッセージが生成された時間であるフィード ヘッダーのタイムスタンプとは異なることに注意してください。

**現在の通路** も提供できます (`stop_sequence` または `stop_id` として)。これは、車両が向かっている、またはすでに停止している停車地への参照です。

## 位置

位置は、車両位置内の位置データを含みます。緯度と経度は必須で、他のフィールドはオプションです。これらのデータの種類は次のとおりです。

* **Latitude** - WGS-84 座標系での北緯度
* **Longitude** - WGS-84 座標系での東経度
* **Bearing** - 車両が向いている方向
* **Odometer** - 車両が移動した距離
* **Speed** - 車両によって測定された瞬間速度 (メートル/秒)

## CongestionLevel

車両位置により、機関は車両が現在経験している混雑レベルを指定することもできます。混雑は次のカテゴリに分類できます。

* Unknown congestion level (混雑レベル不明)
* Running smoothly (順調に走行中)
* Stop and go (停止と発進)
* Congestion (混雑)
* Severe congestion (深刻な混雑)

各タイプの混雑として分類するものは、機関によって分類されます。私たちのガイドラインでは、「深刻な渋滞」は、交通が混雑しすぎて人々が車を離れる状況でのみ使用されます。

## OccupancyStatus

車両の位置により、機関は車両の乗客の乗車率も指定できます。乗車状況は、次のカテゴリに分類できます。

* Empty (空席)
* Many seats available (座席は多数)
* Few seats available (座席はわずか)
* Standing room only (立ち見席のみ)
* Crushed standing room only (立ち見席は混雑)
* Full (満席)
* Not accepting passengers (乗客は受け入れていません)

このフィールドはまだ **実験的** であり、変更される可能性があります。将来正式に採用される可能性があります。

## VehicleStopStatus

車両停止ステータスは、現在近づいている、または現在いる停止に関連して、車両のステータスにさらに意味を与えます。これらの値のいずれかに設定できます。

* **Incoming at** (到着場所) - 車両は参照された停車場に到着しようとしています
* **Stopped at** (停止場所) - 車両は参照された停車場に停止しています
* **In transit to** (移動中) - 参照された停車場は車両の次の停車場です - **デフォルト**

## VehicleDescriptor

VehicleDescriptor は正確な物理的な車両を記述し、以下の属性のいずれかを含めることができます:

* **ID** - 車両を識別するための内部システム。車両ごとに一意である必要があります
* **Label** (ラベル) - ユーザーに表示されるラベル - たとえば、列車の名前
* **License plate** (ナンバー プレート) - 車両の実際のナンバー プレート