# Позиции транспортных средств

Положение транспортного средства используется для предоставления автоматически генерируемой информации о местоположении транспортного средства, например, с помощью GPS-устройства на борту. Одно положение транспортного средства должно быть предоставлено для каждого транспортного средства, которое способно его предоставить.

Поездка, которую в данный момент обслуживает транспортное средство, должна быть указана через [TripDescriptor](../reference.md#message-tripdescriptor). Вы также можете предоставить [VehicleDescriptor](../reference.md#message-vehicledescriptor), который определяет точное физическое транспортное средство, о котором вы предоставляете обновления. Документация приведена ниже.

Может быть предоставлена **временная метка**, обозначающая время, когда было снято показание положения. Обратите внимание, что она отличается от временной метки в заголовке фида, которая является временем, когда это сообщение было сгенерировано сервером.

Также может быть предоставлен**текущий проход** (либо как `stop_sequence`, либо как `stop_id`). Это ссылка на остановку, на которую транспортное средство либо направляется, либо уже остановилось.

## Position

Position содержит данные о местоположении транспортного средства. Широта и долгота являются обязательными, остальные поля необязательны. К этим типам данных относятся:

*   **Latitude** - градусы севера, в системе координат WGS-84.
*   **Longitude** - градусы восточной долготы в системе координат WGS-84.
*   **Bearing** - направление, в котором движется автомобиль
*   **Odometer** - расстояние, пройденное транспортным средством
*   **Speed** - мгновенная скорость, измеренная транспортным средством, в метрах в секунду

## CongestionLevel

Положение транспортного средства также позволяет агентству определить уровень загруженности дорог, в которых в данный момент находится транспортное средство. Заторы могут быть классифицированы по следующим категориям:

*   Неизвестный уровень загруженности
*   Движение плавное
*   Остановка и движение
*   Пробки
*   Сильный затор

Агентство само решает, что классифицировать как каждый тип затора. Мы рекомендуем использовать категорию "сильный затор" только в ситуациях, когда движение настолько перегружено, что люди покидают свои автомобили.

## OccupancyStatus

Положение транспортного средства также позволяет агентству определить степень заполненности транспортного средства пассажирами. Заполненность может быть классифицирована по следующим категориям:

*   Пустой
*   Много свободных мест
*   Мало свободных мест
*   Только стоячие места
*   Только стоячие места
*   Полный
*   Не принимает пассажиров

Это поле является **экспериментальным** и может быть изменено. Возможно, в будущем оно будет официально принято.

## VehicleStopStatus

Статус остановки транспортного средства придает больше смысла статусу транспортного средства по отношению к остановке, к которой оно в данный момент приближается или на которой находится. Он может быть установлен на любое из этих значений.

*   **Incoming at** - транспортное средство вот-вот прибудет на указанную остановку.
*   **Stopped at** - транспортное средство остановилось на указанной остановке.
*   **In transit to** - указанная остановка является следующей остановкой для транспортного средства - **default**.

## VehicleDescriptor

VehicleDescriptor описывает конкретное физическое транспортное средство и может содержать любой из следующих атрибутов:

*   **ID** - внутренняя система идентификации транспортного средства. Должен быть уникальным для данного транспортного средства
*   **Label** - видимая пользователю метка - например, название поезда.
*   **License plate** - фактический номерной знак транспортного средства
